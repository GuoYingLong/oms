var pt=Object.defineProperty;var ut=(a,e,l)=>e in a?pt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l;var ze=(a,e,l)=>(ut(a,typeof e!="symbol"?e+"":e,l),l);import{R as Ce,a as mt,g as ht,b as vt,s as ue,_ as P,r as n,u as ft,c as gt,T as le,j as t,d as yt,e as xt,m as ie,f as G,i as O,h as U,k as me,w as te,l as M,n as re,o as ae,p as bt,q as L,t as K,B as Le,v as Ct,x as wt,I as Q,y as Ve,z as B,A as we,C as Ae,D as he,U as pe,E as ge,F as qe,G as $t,H as We,J as jt,K as kt,L as St,M as _t,N as It,O as Tt,P as Ht}from"./index-vyLcd-Je.js";import{q as Pt}from"./index-uIqUEudj.js";import{C as Dt}from"./Card-YvtJUMab.js";import{S as ve,O as Nt,G as se,a as zt}from"./index-BvM0tQE_.js";import{O as Re}from"./index-28OOwwxE.js";import{d as Lt}from"./Add-XMANssNT.js";import{B as Rt}from"./index-CA63dNRk.js";import{T as Ke,F as Ge}from"./FormDialog-4Nls6tjn.js";import{T as ne}from"./TextField-ExYO2cNO.js";import{L as Et,u as Ft,F as Mt,a as Ue,b as ce,I as fe,c as Bt,S as Ee,d as Ot}from"./Select-SR092O4V.js";import{T as X,B as Z}from"./Button-P3xriBeC.js";import{M as Fe,L as Y}from"./MenuItem-XkAApCKL.js";import{D as Je}from"./Divider-4U8yUvcZ.js";import{C as Ye}from"./Card-ZBbaDw8s.js";import{d as Vt,a as At}from"./DeleteForever-qLBkdhrL.js";import{T as ee}from"./Tooltip-BizDiQoP.js";import{r as Qe}from"./createSvgIcon-REPnXX8o.js";import{d as qt,S as Wt}from"./SnackMessageUpLoadFileProgress-mrKZ2kvA.js";import{D as Kt,a as Gt,b as Ut,c as Jt}from"./DialogActions-TfqgKDOq.js";import"./Portal-fdJRnxBE.js";import"./ButtonBase-JuvOKhC4.js";import"./useIsFocusVisible-4p8xcV5K.js";import"./index-gPguApf8.js";import"./createSvgIcon-Wj1pg0ep.js";import"./useControlled-AZyJHjwc.js";import"./TextField-WpV9j2Nf.js";import"./Tooltip-uuOg3L5G.js";import"./Modal-WZGSkPqe.js";import"./KeyboardArrowRight-b8CMt5WL.js";import"./useTheme-gj9g8ZO4.js";import"./Grow-AEneWTZ1.js";import"./ExpandMore-3kkaHWRN.js";import"./LinearProgress-L2jHxBZR.js";import"./Box-C_Unawo1.js";class Yt extends Ce.Component{constructor(l){super(l);ze(this,"timer",null);this.state={data:[],component:this.props.loading||""}}async componentDidMount(){var v;const{apiFn:l,delay:c,initStore:r,error:h,dataIsEmpty:s}=this.props;try{const{data:i}=await l();if(((v=i==null?void 0:i.data)==null?void 0:v.length)<1){this.setState({component:s});return}this.timer=setTimeout(()=>{r&&r(i==null?void 0:i.data)},c||0)}catch(i){throw this.setState({component:h||"Error"}),console.log(i),i}}componentDidUpdate(l){const{data:c,children:r}=this.props;c!==l.data&&this.setState({component:r})}componentWillUnmount(){clearTimeout(this.timer)}render(){return this.state.component}}class Qt extends Ce.Component{constructor(e){super(e),this.state={data:[],component:this.props.loading||""}}async componentDidMount(){const{url:e,data:l,delay:c,children:r,error:h,dataOperator:s}=this.props;try{const v=await mt.post(e,Pt.stringify(l));this.setState({data:s(v.data)},()=>{setTimeout(()=>{this.setState({component:r(this.state.data)})},c||0)})}catch(v){throw this.setState({component:h||"Error"}),v}}render(){return this.state.component}}const Xt={Get:Yt,Post:Qt};function Zt(a){return vt("MuiCardHeader",a)}const ea=ht("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Me=ea,ta=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],aa=a=>{const{classes:e}=a;return xt({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Zt,e)},ra=ue("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(a,e)=>P({[`& .${Me.title}`]:e.title,[`& .${Me.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),oa=ue("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(a,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),na=ue("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(a,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),ia=ue("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(a,e)=>e.content})({flex:"1 1 auto"}),la=n.forwardRef(function(e,l){const c=ft({props:e,name:"MuiCardHeader"}),{action:r,avatar:h,className:s,component:v="div",disableTypography:i=!1,subheader:w,subheaderTypographyProps:g,title:o,titleTypographyProps:f}=c,y=gt(c,ta),p=P({},c,{component:v,disableTypography:i}),u=aa(p);let m=o;m!=null&&m.type!==le&&!i&&(m=t.jsx(le,P({variant:h?"body2":"h5",className:u.title,component:"span",display:"block"},f,{children:m})));let d=w;return d!=null&&d.type!==le&&!i&&(d=t.jsx(le,P({variant:h?"body2":"body1",className:u.subheader,color:"text.secondary",component:"span",display:"block"},g,{children:d}))),t.jsxs(ra,P({className:yt(u.root,s),as:v,ref:l,ownerState:p},y,{children:[h&&t.jsx(oa,{className:u.avatar,ownerState:p,children:h}),t.jsxs(ia,{className:u.content,ownerState:p,children:[m,d]}),r&&t.jsx(na,{className:u.action,ownerState:p,children:r})]}))}),sa=la,Xe=a=>({home:{width:"90%",margin:"0 auto",paddingTop:"20px",paddingBottom:"20px",display:"grid",alignContent:"space-evenly",alignItems:"center",justifyContent:"space-between",justifyItems:"center",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gridGap:"20px 20px"},FabButton:{position:"fixed",bottom:"10vh",right:"1vw",zIndex:999,backgroundColor:a.palette.tag.light,margin:a.spacing(1)},Select:{width:"100%"}});function oe(){return t.jsxs(Dt,{sx:{minWidth:400,m:2},children:[t.jsx(sa,{title:t.jsx(ve,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:t.jsx(ve,{animation:"wave",height:10,width:"40%"})}),t.jsx(ve,{sx:{bgcolor:"#b7b7b7",height:220},animation:"wave",variant:"rectangular"})]})}function ca(){const a=ie(Xe)();return t.jsxs("div",{className:a.home,children:[t.jsx(oe,{}),t.jsx(oe,{}),t.jsx(oe,{}),t.jsx(oe,{}),t.jsx(oe,{}),t.jsx(oe,{})]})}var $e={},da=O,pa=U;Object.defineProperty($e,"__esModule",{value:!0});var Ze=$e.default=void 0,ua=pa(n),ma=da(G()),ha=(0,ma.default)(ua.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulleted");Ze=$e.default=ha;var je={},va=O,fa=U;Object.defineProperty(je,"__esModule",{value:!0});var et=je.default=void 0,ga=fa(n),ya=va(G()),xa=(0,ya.default)(ga.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");et=je.default=xa;const ba="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1652513706532'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='7465'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cdefs%3e%3cstyle%20type='text/css'%3e@font-face%20{%20font-family:%20feedback-iconfont;%20src:%20url('//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944')%20format('woff2'),%20url('//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944')%20format('woff'),%20url('//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944')%20format('truetype');%20}%20%3c/style%3e%3c/defs%3e%3cpath%20d='M582.111319%20729.87234H430.98417c0%2071.331404-2.570894%20118.914723-55.154383%20130.723405h261.446809c-52.583489-11.808681-55.165277-59.392-55.165277-130.723405z'%20fill='%23D0D3D6'%20p-id='7466'%3e%3c/path%3e%3cpath%20d='M427.988426%20795.234043h157.129531c-2.625362-18.584511-2.995745-40.491574-2.995744-65.361703H430.98417c0%2024.870128-0.370383%2046.777191-2.995744%2065.361703z'%20fill='%23BDC3C7'%20p-id='7467'%3e%3c/path%3e%3cpath%20d='M103.489362%20718.978723c0%2023.965957%2019.608511%2043.574468%2043.574468%2043.574468h729.87234c23.965957%200%2043.574468-19.608511%2043.574468-43.574468v-54.468085h-817.021276v54.468085z'%20fill='%23ECF0F1'%20p-id='7468'%3e%3c/path%3e%3cpath%20d='M876.93617%20152.510638h-729.87234c-23.965957%200-43.574468%2019.608511-43.574468%2043.574468v468.425532h817.021276V196.085106c0-23.965957-19.608511-43.574468-43.574468-43.574468z'%20fill='%23192730'%20p-id='7469'%3e%3c/path%3e%3cpath%20d='M136.170213%20185.191489h751.659574v446.638298h-751.659574z'%20fill='%23213140'%20p-id='7470'%3e%3c/path%3e%3cpath%20d='M920.510638%20196.085106c0-23.965957-19.608511-43.574468-43.574468-43.574468H460.8l459.710638%20458.817362V196.085106z'%20fill='%23375667'%20opacity='.4'%20p-id='7471'%3e%3c/path%3e%3cpath%20d='M532.120511%20713.531915a20.120511%2020.120511%200%201%201-40.241022%200%2020.120511%2020.120511%200%200%201%2040.241022%200z'%20fill='%23192730'%20p-id='7472'%3e%3c/path%3e%3cpath%20d='M364.93617%20860.595745h283.234043v10.893617h-283.234043z'%20fill='%23BDC3C7'%20p-id='7473'%3e%3c/path%3e%3c/svg%3e",Ca=me(n.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));var wa=function(e){var l=e.palette.type==="light"?e.palette.grey[300]:e.palette.grey[700],c=M(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(l),backgroundColor:l,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:e.palette.type==="light"?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:re(l,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:re(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:re(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:re(l,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:re(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:re(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:M(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:M(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:M(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:e.palette.type==="light"?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:c,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:M(c,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:M(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:M(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:M(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:M(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}};function Be(a){return a.key==="Backspace"||a.key==="Delete"}var $a=n.forwardRef(function(e,l){var c=e.avatar,r=e.classes,h=e.className,s=e.clickable,v=e.color,i=v===void 0?"default":v,w=e.component,g=e.deleteIcon,o=e.disabled,f=o===void 0?!1:o,y=e.icon,p=e.label,u=e.onClick,m=e.onDelete,d=e.onKeyDown,C=e.onKeyUp,$=e.size,T=$===void 0?"medium":$,S=e.variant,H=S===void 0?"default":S,V=ae(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),A=n.useRef(null),F=bt(A,l),q=function(N){N.stopPropagation(),m&&m(N)},J=function(N){N.currentTarget===N.target&&Be(N)&&N.preventDefault(),d&&d(N)},b=function(N){N.currentTarget===N.target&&(m&&Be(N)?m(N):N.key==="Escape"&&A.current&&A.current.blur()),C&&C(N)},_=s!==!1&&u?!0:s,I=T==="small",E=w||(_?Le:"div"),x=E===Le?{component:"div"}:{},k=null;if(m){var R=L(i!=="default"&&(H==="default"?r["deleteIconColor".concat(K(i))]:r["deleteIconOutlinedColor".concat(K(i))]),I&&r.deleteIconSmall);k=g&&n.isValidElement(g)?n.cloneElement(g,{className:L(g.props.className,r.deleteIcon,R),onClick:q}):n.createElement(Ca,{className:L(r.deleteIcon,R),onClick:q})}var j=null;c&&n.isValidElement(c)&&(j=n.cloneElement(c,{className:L(r.avatar,c.props.className,I&&r.avatarSmall,i!=="default"&&r["avatarColor".concat(K(i))])}));var D=null;return y&&n.isValidElement(y)&&(D=n.cloneElement(y,{className:L(r.icon,y.props.className,I&&r.iconSmall,i!=="default"&&r["iconColor".concat(K(i))])})),n.createElement(E,P({role:_||m?"button":void 0,className:L(r.root,h,i!=="default"&&[r["color".concat(K(i))],_&&r["clickableColor".concat(K(i))],m&&r["deletableColor".concat(K(i))]],H!=="default"&&[r.outlined,{primary:r.outlinedPrimary,secondary:r.outlinedSecondary}[i]],f&&r.disabled,I&&r.sizeSmall,_&&r.clickable,m&&r.deletable),"aria-disabled":f?!0:void 0,tabIndex:_||m?0:void 0,onClick:u,onKeyDown:J,onKeyUp:b,ref:F},x,V),j||D,n.createElement("span",{className:L(r.label,I&&r.labelSmall)},p),k)});const tt=te(wa,{name:"MuiChip"})($a);var ja={root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},ka=n.forwardRef(function(e,l){var c=e.children,r=e.classes,h=e.className,s=e.disableTypography,v=s===void 0?!1:s,i=e.inset,w=i===void 0?!1:i,g=e.primary,o=e.primaryTypographyProps,f=e.secondary,y=e.secondaryTypographyProps,p=ae(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),u=n.useContext(Et),m=u.dense,d=g??c;d!=null&&d.type!==X&&!v&&(d=n.createElement(X,P({variant:m?"body2":"body1",className:r.primary,component:"span",display:"block"},o),d));var C=f;return C!=null&&C.type!==X&&!v&&(C=n.createElement(X,P({variant:"body2",className:r.secondary,color:"textSecondary",display:"block"},y),C)),n.createElement("div",P({className:L(r.root,h,m&&r.dense,w&&r.inset,d&&C&&r.multiline),ref:l},p),d,C)});const z=te(ja,{name:"MuiListItemText"})(ka);var ke={},Sa=O,_a=U;Object.defineProperty(ke,"__esModule",{value:!0});var at=ke.default=void 0,Ia=_a(n),Ta=Sa(G()),Ha=(0,Ta.default)(Ia.createElement("path",{d:"M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z"}),"Power");at=ke.default=Ha;var Se={},Pa=O,Da=U;Object.defineProperty(Se,"__esModule",{value:!0});var rt=Se.default=void 0,Na=Da(n),za=Pa(G()),La=(0,za.default)(Na.createElement("path",{d:"M18 14.49V9c0-1-1.01-2.01-2-2V3h-2v4h-4V3H8v2.48l9.51 9.5.49-.49zm-1.76 1.77L7.2 7.2l-.01.01L3.98 4 2.71 5.25l3.36 3.36C6.04 8.74 6 8.87 6 9v5.48L9.5 18v3h5v-3l.48-.48L19.45 22l1.26-1.28-4.47-4.46z"}),"PowerOff");rt=Se.default=La;const Ra=a=>({HostInfoCard:{width:"400px",minWidth:275},listItem:{padding:0,paddingLeft:"40px"},listItemText:{width:"4%"},title:{height:"40px",lineHeight:"30px",fontSize:14,display:"flex",alignItems:"center",justifyContent:"space-around"},vncButton:{width:"40px",height:"26px",backgroundColor:a.palette.primary[a.palette.type],"&:hover":{backgroundColor:a.palette.primary.main}},commandButton:{width:"40px",height:"26px",backgroundColor:a.palette.warning[a.palette.type],"&:hover":{backgroundColor:a.palette.warning.main}},editButton:{width:"40px",height:"26px",backgroundColor:a.palette.info[a.palette.type],"&:hover":{backgroundColor:a.palette.info.main}},deleteButton:{width:"40px",height:"26px",backgroundColor:a.palette.error[a.palette.type],"&:hover":{backgroundColor:a.palette.error.main}},Select:{width:"100%"},tag:{marginRight:"4px",backgroundColor:a.palette.tag.main}});var Ea={root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},Fa=n.forwardRef(function(e,l){var c=e.children,r=e.classes,h=e.className,s=e.component,v=s===void 0?"div":s,i=e.disablePointerEvents,w=i===void 0?!1:i,g=e.disableTypography,o=g===void 0?!1:g,f=e.position,y=e.variant,p=ae(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),u=Ft()||{},m=y;return y&&u.variant,u&&!m&&(m=u.variant),n.createElement(Mt.Provider,{value:null},n.createElement(v,P({className:L(r.root,h,f==="end"?r.positionEnd:r.positionStart,w&&r.disablePointerEvents,u.hiddenLabel&&r.hiddenLabel,m==="filled"&&r.filled,u.margin==="dense"&&r.marginDense),ref:l},p),typeof c=="string"&&!o?n.createElement(X,{color:"textSecondary"},c):c))});const Oe=te(Ea,{name:"MuiInputAdornment"})(Fa);var _e={},Ma=O,Ba=U;Object.defineProperty(_e,"__esModule",{value:!0});var ot=_e.default=void 0,Oa=Ba(n),Va=Ma(G()),Aa=(0,Va.default)(Oa.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");ot=_e.default=Aa;var qa={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},Wa=n.forwardRef(function(e,l){var c=e.classes,r=e.className,h=e.row,s=h===void 0?!1:h,v=ae(e,["classes","className","row"]);return n.createElement("div",P({className:L(c.root,r,s&&c.row),ref:l},v))});const Ka=te(qa,{name:"MuiFormGroup"})(Wa);var Ga=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},Ua=n.forwardRef(function(e,l){e.checked;var c=e.classes,r=e.className,h=e.control,s=e.disabled;e.inputRef;var v=e.label,i=e.labelPlacement,w=i===void 0?"end":i;e.name,e.onChange,e.value;var g=ae(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),o=Ue(),f=s;typeof f>"u"&&typeof h.props.disabled<"u"&&(f=h.props.disabled),typeof f>"u"&&o&&(f=o.disabled);var y={disabled:f};return["checked","name","onChange","value","inputRef"].forEach(function(p){typeof h.props[p]>"u"&&typeof e[p]<"u"&&(y[p]=e[p])}),n.createElement("label",P({className:L(c.root,r,w!=="end"&&c["labelPlacement".concat(K(w))],f&&c.disabled),ref:l},g),n.cloneElement(h,y),n.createElement(X,{component:"span",className:L(c.label,f&&c.disabled)},v))});const Ja=te(Ga,{name:"MuiFormControlLabel"})(Ua);var Ya={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},Qa=n.forwardRef(function(e,l){var c=e.autoFocus,r=e.checked,h=e.checkedIcon,s=e.classes,v=e.className,i=e.defaultChecked,w=e.disabled,g=e.icon,o=e.id,f=e.inputProps,y=e.inputRef,p=e.name,u=e.onBlur,m=e.onChange,d=e.onFocus,C=e.readOnly,$=e.required,T=e.tabIndex,S=e.type,H=e.value,V=ae(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),A=Ct({controlled:r,default:!!i,name:"SwitchBase",state:"checked"}),F=wt(A,2),q=F[0],J=F[1],b=Ue(),_=function(j){d&&d(j),b&&b.onFocus&&b.onFocus(j)},I=function(j){u&&u(j),b&&b.onBlur&&b.onBlur(j)},E=function(j){var D=j.target.checked;J(D),m&&m(j,D)},x=w;b&&typeof x>"u"&&(x=b.disabled);var k=S==="checkbox"||S==="radio";return n.createElement(Q,P({component:"span",className:L(s.root,v,q&&s.checked,x&&s.disabled),disabled:x,tabIndex:null,role:void 0,onFocus:_,onBlur:I,ref:l},V),n.createElement("input",P({autoFocus:c,checked:r,defaultChecked:i,className:s.input,disabled:x,id:k&&o,name:p,onChange:E,readOnly:C,ref:y,required:$,tabIndex:T,type:S,value:H},f)),q?h:g)});const Xa=te(Ya,{name:"PrivateSwitchBase"})(Qa),Za=me(n.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),er=me(n.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),tr=me(n.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));var ar=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:M(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:M(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},rr=n.createElement(er,null),or=n.createElement(Za,null),nr=n.createElement(tr,null),ir=n.forwardRef(function(e,l){var c=e.checkedIcon,r=c===void 0?rr:c,h=e.classes,s=e.color,v=s===void 0?"secondary":s,i=e.icon,w=i===void 0?or:i,g=e.indeterminate,o=g===void 0?!1:g,f=e.indeterminateIcon,y=f===void 0?nr:f,p=e.inputProps,u=e.size,m=u===void 0?"medium":u,d=ae(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),C=o?y:w,$=o?y:r;return n.createElement(Xa,P({type:"checkbox",classes:{root:L(h.root,h["color".concat(K(v))],o&&h.indeterminate),checked:h.checked,disabled:h.disabled},color:v,inputProps:P({"data-indeterminate":o},p),icon:n.cloneElement(C,{fontSize:C.props.fontSize===void 0&&m==="small"?m:C.props.fontSize}),checkedIcon:n.cloneElement($,{fontSize:$.props.fontSize===void 0&&m==="small"?m:$.props.fontSize}),ref:l},d))});const lr=te(ar,{name:"MuiCheckbox"})(ir);var Ie={},sr=O,cr=U;Object.defineProperty(Ie,"__esModule",{value:!0});var nt=Ie.default=void 0,dr=cr(n),pr=sr(G()),ur=(0,pr.default)(dr.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");nt=Ie.default=ur;var Te={},mr=O,hr=U;Object.defineProperty(Te,"__esModule",{value:!0});var it=Te.default=void 0,vr=hr(n),fr=mr(G()),gr=(0,fr.default)(vr.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");it=Te.default=gr;const yr=ie(a=>Ve({tag:{marginRight:"4px",backgroundColor:a.palette.tag.main}})),ye=({hostInfo:a,setHostInfo:e,groupList:l,privateKeyList:c,tlc:r,setTlc:h})=>{const s=yr(),[v,i]=Ce.useState({amount:"",password:"",weight:"",weightRange:"",showPassword:!1}),w=[{id:0,name:"无",mode:1,params:""},...l],g=[{id:0,name:"无",passphrase:"",key_file:""},...c];return t.jsxs(t.Fragment,{children:[t.jsx(ne,{autoFocus:!0,margin:"dense",id:"host-name",label:"主机名",fullWidth:!0,value:a.name,onChange:o=>e({...a,name:o.target.value})}),t.jsx(ne,{autoFocus:!0,margin:"dense",id:"host-ip",label:"主机地址",fullWidth:!0,value:a.addr,onChange:o=>e({...a,addr:o.target.value})}),t.jsx(ne,{autoFocus:!0,margin:"dense",id:"user-name",label:"用户名",fullWidth:!0,value:a.user,onChange:o=>e({...a,user:o.target.value}),InputProps:{startAdornment:t.jsx(Oe,{position:"start",children:t.jsx(ot,{})})}}),t.jsx(ne,{autoFocus:!0,margin:"dense",id:"port",label:"端口号",type:"number",fullWidth:!0,value:a.port,onChange:o=>e({...a,port:Number(o.target.value)})}),t.jsx(ne,{autoFocus:!0,margin:"dense",id:"vnc_port",type:"number",label:"VNC端口号",fullWidth:!0,value:a.vnc_port,onChange:o=>e({...a,vnc_port:Number(o.target.value)})}),t.jsxs(ce,{style:{width:"100%"},children:[t.jsx(fe,{htmlFor:"standard-adornment-password",children:"Password"}),t.jsx(Bt,{id:"standard-adornment-password",type:v.showPassword?"text":"password",value:a.password||"",onChange:o=>e({...a,password:o.target.value}),endAdornment:t.jsx(Oe,{position:"end",children:t.jsx(Q,{"aria-label":"toggle password visibility",onClick:()=>i({...v,showPassword:!v.showPassword}),onMouseDown:o=>o.preventDefault(),children:v.showPassword?t.jsx(nt,{}):t.jsx(it,{})})})})]}),t.jsx(ce,{style:{width:"100%"},children:w.length>0?t.jsxs(t.Fragment,{children:[t.jsx(fe,{id:"group-select-label",children:"选择分组"}),t.jsx(Ee,{labelId:"group-select-label",id:"group-select",value:a.group.name,onChange:o=>e({...a,group:w.find(f=>{var y;return f.name===((y=o==null?void 0:o.target)==null?void 0:y.value)})}),children:w.map(o=>t.jsx(Fe,{value:o.name,children:o.name},o.name))})]}):"请在分组页面添加分组才可以选择分组"}),t.jsx(ce,{style:{width:"100%"},children:g.length>0?t.jsxs(t.Fragment,{children:[t.jsx(fe,{id:"group-select-label",children:"选择密钥文件"}),t.jsx(Ee,{labelId:"group-select-label",id:"group-select",value:a.private_key_id,onChange:o=>{var f;return e({...a,private_key_id:(f=o==null?void 0:o.target)==null?void 0:f.value})},children:g.map(o=>t.jsx(Fe,{value:o.id,children:o.name},o.id))})]}):"请在分组页面添加分组才可以选择分组"}),t.jsx(ce,{style:{width:"100%"},children:t.jsx(Ka,{row:!0,children:r&&r.map((o,f)=>t.jsx(Ja,{control:t.jsx(lr,{checked:o.checked,onChange:y=>{const p=[...r];p.splice(f,1,{...o,checked:y.target.checked}),h(p)},name:o.name,color:"primary"}),label:t.jsx(tt,{className:s.tag,size:"small",label:o.name},o.id)},o.name))})}),t.jsx(Je,{})]})},xr=(a,e)=>({...e,hostList:a.hostList,groupList:a.groupList,tagList:a.tagList,privateKeyList:a.privateKeyList}),br={initGroup:B.initGroupInfo,initTag:B.initTagInfo,getHostList:B.getHostList};function Cr(a){var J;const{hostInfo:e,getHostList:l,groupList:c,tagList:r,privateKeyList:h}=a,s=ie(Ra)(),v=Ae(),{enqueueSnackbar:i}=he(),w="确定要删除这台主机吗？",g=`主机: ${e.name}, ip: ${e.addr}`,[o,f]=n.useState(!1),[y,p]=n.useState(!1),[u,m]=n.useState(e),[d,C]=n.useState(r==null?void 0:r.map(b=>{var _;return{...b,checked:!!((_=e.tags)!=null&&_.find(I=>I.name===b.name))}}));n.useEffect(()=>{C(r==null?void 0:r.map(b=>{var _;return{...b,checked:!!((_=e.tags)!=null&&_.find(I=>I.name===b.name))}}))},[r,e]);const $="编辑主机信息",T=ye({hostInfo:u,setHostInfo:m,privateKeyList:h,groupList:c,tlc:d,setTlc:C}),S=()=>{f(!1)},H=()=>{p(!1)},V=b=>{b==="edit"&&p(!0),b==="delete"&&f(!0)},A=async()=>{var E;const b=[];d.forEach(x=>{x.checked&&b.push(x)});const _={id:u.id,hostname:u.name,user:u.user,addr:u.addr,port:u.port,vnc_port:u.vnc_port,password:u.password||"",private_key_id:u.private_key_id,group:(E=u==null?void 0:u.group)==null?void 0:E.id,tags:JSON.stringify(b==null?void 0:b.map(x=>x.id))},I=await ge(_);if(I.code!=="200"){i(`主机修改失败: ${I.msg}`,{autoHideDuration:3e3,variant:"error"});return}return l(),i(`主机: ${e.name} 信息已经修改`,{autoHideDuration:3e3,variant:"success"}),!0},F=async b=>{var E;const _={id:e.id,hostname:e.name,user:e.user,addr:e.addr,port:e.port,vnc_port:e.vnc_port,password:e.password||"",private_key_id:e.private_key_id,group:(E=e==null?void 0:e.group)==null?void 0:E.id,tags:JSON.stringify(e.tags.filter(x=>x.id!==b).map(x=>x.id))},I=await ge(_);if(I.code!=="200"){i(`主机: ${e.name}标签删除失败: ${I.msg}`,{autoHideDuration:3e3,variant:"error"});return}l(),i(`主机: ${e.name}标签删除成功`,{autoHideDuration:3e3,variant:"success"})},q=async()=>{const b=await qe(e.id);if(b.code!=="200"){i(`主机${e.name}删除失败: ${b.msg}`,{autoHideDuration:3e3,variant:"error"});return}l(),i(`主机: ${e.name} 已被删除`,{autoHideDuration:3e3,variant:"success"})};return t.jsxs(t.Fragment,{children:[t.jsxs(Ye,{className:s.HostInfoCard,children:[t.jsxs(X,{className:s.title,color:"textSecondary",gutterBottom:!0,children:[t.jsx(Z,{className:s.vncButton,variant:"contained",onClick:()=>v(`${pe.vnc}/${e.id}`),children:"VNC"}),t.jsx(Z,{className:s.commandButton,variant:"contained",onClick:()=>v(`${pe.webSSH}/${e.id}`),children:"SSH"}),t.jsx(Z,{className:s.editButton,variant:"contained",onClick:()=>V("edit"),children:"编辑"}),t.jsx(Z,{className:s.deleteButton,onClick:()=>V("delete"),children:"删除"})]}),t.jsx(Je,{}),t.jsxs(Ot,{component:"nav","aria-label":"main mailbox folders",children:[t.jsxs(Y,{className:s.listItem,children:[t.jsx(z,{className:s.listItemText,primary:"主机名:"}),t.jsx(z,{primary:e.name||""})]}),t.jsxs(Y,{className:s.listItem,children:[t.jsx(z,{className:s.listItemText,primary:"状态:"}),t.jsx(z,{style:{color:e.status?"#4bce21":"#d90229"},children:e.status?t.jsx(at,{}):t.jsx(rt,{})})]}),t.jsxs(Y,{className:s.listItem,children:[t.jsx(z,{className:s.listItemText,primary:"用户:"}),t.jsx(z,{primary:e.user||""})]}),t.jsxs(Y,{className:s.listItem,children:[t.jsx(z,{className:s.listItemText,primary:"地址:"}),t.jsx(z,{primary:e.addr||""})]}),t.jsxs(Y,{className:s.listItem,children:[t.jsx(z,{className:s.listItemText,primary:"端口:"}),t.jsx(z,{primary:e.port||""})]}),t.jsxs(Y,{className:s.listItem,children:[t.jsx(z,{className:s.listItemText,primary:"组:"}),t.jsx(z,{primary:e.group.name||""})]}),t.jsxs(Y,{className:s.listItem,children:[t.jsx(z,{className:s.listItemText,primary:"标签:"}),t.jsx(z,{style:{maxWidth:"282px",maxHeight:"26px",overflow:"hidden"},primary:(J=e.tags)==null?void 0:J.map(b=>t.jsx(tt,{className:s.tag,size:"small",label:b.name,onDelete:()=>F(b.id)},b.id))})]})]})]}),t.jsx(Ke,{open:o,text:g,title:w,toClose:S,todo:q}),t.jsx(Ge,{open:y,content:T,toClose:H,title:$,todo:A})]})}const wr=we(xr,br)(Cr);var He={},$r=O,jr=U;Object.defineProperty(He,"__esModule",{value:!0});var lt=He.default=void 0,kr=jr(n),Sr=$r(G()),_r=(0,Sr.default)(kr.createElement("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CastConnected");lt=He.default=_r;var Pe={},Ir=O,Tr=U;Object.defineProperty(Pe,"__esModule",{value:!0});var st=Pe.default=void 0,Hr=Tr(n),Pr=Ir(G()),Dr=(0,Pr.default)(Hr.createElement("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12zm-2-9H8v2h11V8zm0 4H8v2h11v-2zM7 8H5v2h2V8zm0 4H5v2h2v-2z"}),"Dvr");st=Pe.default=Dr;const Nr=[{field:"id",headerName:"id",width:80},{field:"name",headerName:"主机名",width:160},{field:"status",headerName:"状态",width:160,valueGetter:a=>a.row.status?"在线":"离线"},{field:"user",headerName:"用户",width:160},{field:"addr",headerName:"地址",width:160},{field:"port",headerName:"端口",width:100},{field:"group",headerName:"组",width:130,valueGetter:a=>a.row.group.name},{field:"tags",headerName:"标签",width:180,valueGetter:a=>{var e,l;return String(((l=(e=a==null?void 0:a.row)==null?void 0:e.tags)==null?void 0:l.map(c=>c.name))||[])}},{field:"action",headerName:"操作",minWidth:240,type:"actions",getActions:a=>{const{id:e,name:l}=a.row,{navigate:c,openDelete:r,toDelete:h,openEdit:s,setHostId:v,setHostInfo:i,setTlc:w,tagList:g}=a.row.actions;return[t.jsx(se,{icon:t.jsx(ee,{title:"VNC",placement:"top-start",children:t.jsx(lt,{onClick:()=>{c(`${pe.vnc}/${e}`)}})}),label:"VNC"},a.row.id+"VNC"),t.jsx(se,{icon:t.jsx(ee,{title:"SSH",placement:"top-start",children:t.jsx(st,{onClick:()=>{c(`${pe.webSSH}/${e}`)},color:"primary"})}),label:"SSH"},a.row.id+"SSH"),t.jsx(se,{icon:t.jsx(ee,{title:"编辑",placement:"top-start",children:t.jsx(Vt,{color:"secondary",onClick:()=>{w(g==null?void 0:g.map(o=>{var f;return{...o,checked:!!((f=a.row.tags)!=null&&f.find(y=>y.name===o.name))}})),v(e),i(a.row),s({type:"title",payload:"编辑主机信息"}),s({type:"open"})}})}),label:"编辑"},a.row.id+"Edit"),t.jsx(se,{icon:t.jsx(ee,{title:"删除",placement:"top-start",children:t.jsx(At,{color:"error",onClick:()=>{r({type:"open"}),r({type:"text",payload:`确认要删除主机：${l} 吗？`}),r({type:"title",payload:"删除主机信息"}),r({type:"todo",payload:()=>h(e,l)})}})}),label:"删除"},a.row.id+"Delete")]}}],zr=(a,e)=>({...e,hostList:a.hostList,hostTotal:a.hostTotal,groupList:a.groupList,tagList:a.tagList,privateKeyList:a.privateKeyList}),Lr={initGroup:B.initGroupInfo,initTag:B.initTagInfo,upHostList:B.getHostList};function Rr(a){const{hostList:e,hostTotal:l,upHostList:c,tipDispatch:r,formDispatch:h,setHostId:s,setHostInfo:v,setTlc:i,tagList:w}=a,g=Ae(),{enqueueSnackbar:o}=he(),[f,y]=n.useState(25);n.useEffect(()=>{c({pageSize:f,pageNo:1})},[]);const p=d=>{y(d),c({pageSize:d,pageNo:1})},u=d=>{c({pageSize:f,pageNo:d+1})},m=d=>d==null?void 0:d.map(C=>({...C,actions:{navigate:g,setTlc:i,tagList:w,openEdit:h,setHostId:s,setHostInfo:v,openDelete:r,toDelete:async($,T)=>{const S=await qe($);if(S.code!=="200"){o(`主机${T}删除失败: ${S.msg}`,{autoHideDuration:3e3,variant:"error"});return}c(),o(`主机: ${T} 已被删除`,{autoHideDuration:3e3,variant:"success"})}}}));return t.jsx(Ye,{style:{width:"98%",height:"80vh",margin:"0 auto",marginTop:"20px"},children:t.jsx(Nt,{columns:Nr,rows:m(e),rowCount:l,pagination:!0,pageSize:f,rowsPerPageOptions:[25,50,100],paginationMode:"server",onPageSizeChange:p,onPageChange:u})})}const Er=we(zr,Lr)(Rr);var De={},Fr=O;Object.defineProperty(De,"__esModule",{value:!0});var ct=De.default=void 0,Mr=Fr(Qe()),Br=t;ct=De.default=(0,Mr.default)((0,Br.jsx)("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"}),"IosShare");var Ne={},Or=O;Object.defineProperty(Ne,"__esModule",{value:!0});var dt=Ne.default=void 0,Vr=Or(Qe()),Ar=t;dt=Ne.default=(0,Vr.default)((0,Ar.jsx)("path",{d:"m12 16.5 4-4h-3v-9h-2v9H8zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2"}),"SystemUpdateAlt");const qr=(a,e)=>{const{files:l}=a,c=new FormData;for(const r in l)l.hasOwnProperty(r)&&c.append("files",l[r]);return $t(`${We.tools.import}`,c,{headers:{"Content-Type":"multipart/form-data"},timeout:864e5,...e})},Wr=ie(a=>Ve({root:{display:"flex",alignContent:"space-evenly",alignItems:"center",justifyContent:"space-around","& > *":{margin:a.spacing(1)}},input:{display:"none"}}));function Kr(a){const{onBeforeUpload:e,onUploadComplete:l,showUploadProgress:c}=a,r=Wr(),[h,s]=n.useState(null),[v,i]=n.useState("未选择任何文件"),[w,g]=n.useState([]),{enqueueSnackbar:o}=he(),f=p=>{var u,m,d,C,$,T;if(p.target.files[0].name){if(((u=p.target)==null?void 0:u.files.length)<2){i((d=(m=p.target)==null?void 0:m.files[0])==null?void 0:d.name);const S=[];for(let H=0;H<p.target.files.length;H++)S.push(p.target.files[H].name);g(S)}else{i(`${(C=p.target)==null?void 0:C.files.length}个文件`),console.log(($=p.target)==null?void 0:$.files);const S=[];for(let H=0;H<p.target.files.length;H++)S.push(p.target.files[H].name);g(S)}s((T=p.target)==null?void 0:T.files)}},y=async()=>{try{if(!h[0]){o("请选择需要上传的文件！！！",{autoHideDuration:3e3,variant:"warning"});return}e&&e();const p=await qr({files:h});if(p.code!=="200"){o(`导入资产文件失败：${p.msg}`,{autoHideDuration:5e3,variant:"error"});return}if(c){const u={files:h},m=new Date().getTime();o("文件",{autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"right"},key:m,persist:!0,variant:"warning",content:t.jsx(Wt,{id:m,total:w,message:v,data:u,cb:l})})}}catch(p){o(`导入资产文件失败：${p}`,{autoHideDuration:5e3,variant:"error"})}finally{l&&l()}};return t.jsxs("div",{className:r.root,children:[t.jsx(ne,{size:"small",disabled:!0,id:"select-file",variant:"outlined",value:v}),t.jsx("input",{className:r.input,id:"contained-button-file",multiple:!0,type:"file",onChange:p=>f(p)}),t.jsx("label",{htmlFor:"contained-button-file",children:t.jsx(Z,{variant:"contained",component:"span",children:"选择CSV文件"})}),t.jsx(Z,{variant:"contained",startIcon:t.jsx(qt,{}),onClick:()=>y(),children:"导入文件"})]})}const de={id:0,name:"",status:!1,user:"",password:"",addr:"",keyFile:"",private_key_id:0,port:22,vnc_port:5900,group:{id:0,name:"",mode:0,params:""},tags:[],tunnels:[],jobs:[]},Gr=(a,e)=>({...e,hostList:a.hostList,groupList:a.groupList,tagList:a.tagList,privateKeyList:a.privateKeyList}),Ur={initGroup:B.initGroupInfo,initTag:B.initTagInfo,initPrivateKey:B.initPrivateKeyInfo,initStore:B.initHostInfo,getHostList:B.getHostList};function xe(){return{open:!1,title:""}}function Jr(a,e){switch(e.type){case"open":return{...a,open:!0};case"close":return{...a,open:!1};case"title":return{...a,title:e.payload};case"reset":return xe();default:throw new Error}}function be(){return{open:!1,text:"",title:"",todo:a=>a}}function Yr(a,e){switch(e.type){case"open":return{...a,open:!0};case"close":return{...a,open:!1};case"text":return{...a,text:e.payload};case"title":return{...a,title:e.payload};case"todo":return{...a,todo:e.payload};case"reset":return be();default:throw new Error}}function Qr(a){const{hostList:e,getHostList:l,initTag:c,initGroup:r,initPrivateKey:h,privateKeyList:s,groupList:v,tagList:i,initStore:w}=a;n.useEffect(()=>{(async()=>{var j;const x=await jt(),k=await kt(),R=await St();x.code==="200"&&k.code==="200"&&R.code==="200"&&(r(x.data),c(k.data),h(R.data),T((j=k.data)==null?void 0:j.map(D=>({...D,checked:!1}))))})()},[]),ie(Xe)();const{enqueueSnackbar:g}=he(),[o,f]=n.useState(0),[y,p]=n.useReducer(Yr,be(),be),[u,m]=n.useReducer(Jr,xe(),xe),[d,C]=n.useState(de),[$,T]=n.useState(i==null?void 0:i.map(x=>({...x,checked:!1}))),S=localStorage.getItem("viewType")||"card",[H,V]=n.useState(S),[A,F]=n.useState(!1),q=ye({hostInfo:d,setHostInfo:C,privateKeyList:s,groupList:v,tlc:$,setTlc:T}),J=ye({hostInfo:d,setHostInfo:C,privateKeyList:s,groupList:v,tlc:$,setTlc:T}),b={card:t.jsx(Xt.Get,{data:e,initStore:w,apiFn:_t,loading:t.jsx(ca,{}),dataIsEmpty:t.jsx(Re,{errInfo:"您还未添加主机，请点击“+”按钮添加您的主机。",variant:"h5",svgImg:ba,errType:"server",imgStyle:{width:"400px",height:"400px"},style:{marginTop:"40px"}}),error:t.jsx("div",{style:{marginTop:"100px"},children:t.jsx(Re,{errInfo:"请求数据失败，网络异常",variant:"h3",errType:"server",imgStyle:{width:"400px",height:"400px"}})}),children:t.jsx("div",{style:{width:"90%",margin:"0 auto",paddingTop:"20px",paddingBottom:"20px",display:"grid",alignContent:"space-evenly",alignItems:"center",justifyContent:"space-between",justifyItems:"center",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gridGap:"20px 20px"},children:e==null?void 0:e.map(x=>t.jsx(wr,{hostInfo:x},x.id))})}),table:t.jsx(Er,{setHostInfo:C,setHostId:f,tipDispatch:p,formDispatch:m,setTlc:T})},_=()=>{m({type:"title",payload:"添加一个新的主机"}),m({type:"open"}),T(i==null?void 0:i.map(x=>({...x,checked:!1}))),f(0)},I=n.useCallback(async()=>{var j;const x=[];$.forEach(D=>{D.checked&&x.push(D)});const k={id:d.id,hostname:d.name,user:d.user,addr:d.addr,port:d.port,vnc_port:d.vnc_port,password:d.password||"",private_key_id:d.private_key_id,group:(j=d==null?void 0:d.group)==null?void 0:j.id,tags:JSON.stringify(x==null?void 0:x.map(D=>D.id))},R=await ge(k);if(R.code!=="200"){g(`主机修改失败: ${R.msg}`,{autoHideDuration:3e3,variant:"error"});return}return l(),g(`主机: ${d.name} 信息已经修改`,{autoHideDuration:3e3,variant:"success"}),C(de),!0},[d,$]),E=n.useCallback(async()=>{var D;if(!d.addr){g("主机地址不能为空",{autoHideDuration:3e3,variant:"error"});return}if(!d.user){g("用户名不能为空",{autoHideDuration:3e3,variant:"error"});return}if(!d.name){g("主机名不能为空",{autoHideDuration:3e3,variant:"error"});return}const x=[];$.forEach(W=>{W.checked&&x.push(W)});const k={...d,tags:x},R={hostname:k.name,user:k.user,addr:k.addr,port:k.port,vnc_port:k.vnc_port,group:k.group.id,password:k.password,private_key_id:k.private_key_id,tags:JSON.stringify((D=k.tags)==null?void 0:D.map(W=>W.id))},j=await It(R);if(j.code!=="200"){g(`主机添加失败: ${j.msg}`,{autoHideDuration:3e3,variant:"error"});return}return l(),g(`主机: ${j.data.name} 已添加`,{autoHideDuration:3e3,variant:"success"}),C(de),T(i==null?void 0:i.map(W=>({...W,checked:!1}))),!0},[d,$]);return t.jsxs(Rt,{children:[t.jsx("div",{style:{width:"100%",height:"40px",display:"flex",justifyContent:"end"},children:t.jsxs(zt,{direction:"row",spacing:1,children:[t.jsx(ee,{title:"导入数据",placement:"top-start",children:t.jsx(Q,{"aria-label":"hostCard",color:"secondary",onClick:()=>F(!0),children:t.jsx(dt,{})})}),t.jsx(ee,{title:"导出数据",placement:"top-start",children:t.jsx(Q,{"aria-label":"hostCard",color:"secondary",onClick:()=>{const x=`${Ht}${We.tools.export}`;Tt(x,"oms")},children:t.jsx(ct,{})})}),t.jsx(ee,{title:"添加主机",placement:"top-start",children:t.jsx(Q,{"aria-label":"hostCard",color:"secondary",onClick:_,children:t.jsx(Lt,{})})}),t.jsx(Q,{"aria-label":"hostCard",color:H==="card"?"primary":"default",onClick:()=>{V("card"),localStorage.setItem("viewType","card")},children:t.jsx(et,{})}),t.jsx(Q,{"aria-label":"hostTable",color:H==="table"?"primary":"default",onClick:()=>{V("table"),localStorage.setItem("viewType","table")},children:t.jsx(Ze,{})})]})}),b[H],t.jsx(Ge,{open:u.open,content:o?J:q,toClose:()=>{m({type:"close"}),C(de)},title:u.title,todo:o?I:E}),t.jsx(Ke,{open:y.open,text:y.text,title:y.title,toClose:()=>p({type:"close"}),todo:y.todo}),t.jsxs(Kt,{open:A,onClose:()=>F(!1),"aria-labelledby":"file-browser",fullWidth:!0,maxWidth:"sm",children:[t.jsx(Gt,{style:{minHeight:"300px",display:"flex",flexDirection:"column",justifyContent:"center "},dividers:!0,children:t.jsx(Ut,{children:t.jsx(Kr,{onBeforeUpload:()=>{F(!1)},onUploadComplete:l})})}),t.jsx(Jt,{children:t.jsx(Z,{onClick:()=>F(!1),color:"primary",children:"关闭"})})]})]})}const zo=we(Gr,Ur)(Qr);export{zo as default};
